(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3b8b214"],{1829:function(t,e,s){"use strict";s("5644")},"4f1d":function(t,e,s){"use strict";s("eb09")},5644:function(t,e,s){},c106:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-search-bar",class:"view"==t.$route.name?"can-return":""},[s("div",{staticClass:"m-return"},[s("el-button",{staticClass:"u-return-btn",on:{click:t.return_handle}},[t._v("返回 ")])],1),s("div",{staticClass:"m-search"},[s("el-input",{staticClass:"u-search-input",attrs:{placeholder:"输入剑三小册标题「回车」进行搜索"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_handle(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("关键词")])]),s("el-button",{staticClass:"u-search-btn",attrs:{type:"primary",plain:""},on:{click:t.search_handle}},[t._v("搜索 ")])],1)])},n=[],i={name:"Search",data:function(){return{keyword:""}},methods:{return_handle:function(){history.back()},search_handle:function(){var t={};this.$store.state.sidebar.tag&&(t.tag=this.$store.state.sidebar.tag),this.$router.push({name:"normal",params:t,query:{keyword:this.keyword,page:1}})}}},o=i,c=(s("4f1d"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,null,null);e["a"]=l.exports},c84b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-detail"},[s("Search"),t.collection?s("div",{staticClass:"m-content"},[s("div",{staticClass:"m-title"},[s("h3",{staticClass:"u-title",domProps:{textContent:t._s(t.collection.title)}}),t.collection.public!=t.publish.PRIVATE?s("span",{staticClass:"u-private"},[t._v("私有")]):t._e()]),s("el-divider",{attrs:{"content-position":"left"}},[s("i",{staticClass:"el-icon-notebook-2"}),t._v(" 小册描述 ")]),s("div",{staticClass:"m-description"},[s("p",{domProps:{innerHTML:t._s(t.collection.description)}})]),s("el-divider",{attrs:{"content-position":"left"}},[s("i",{staticClass:"el-icon-collection"}),t._v(" 小册文章 ")]),s("div",{staticClass:"m-posts"},t._l(t.collection.posts,(function(e,a){return s("a",{key:a,staticClass:"m-post",attrs:{target:"_blank",href:"custom"===e.type?e.url:t.get_link(e.type,e.id)}},["custom"!==e.type&&e.user_id?s("a",{staticClass:"m-post-user",attrs:{target:"_blank",href:t._f("author_url")(e.user_id)}},[s("img",{staticClass:"u-avatar",attrs:{src:t.get_thumbnail(e.user_avatar,20)}}),s("span",{staticClass:"u-nickname",domProps:{textContent:t._s(e.user_nickname)}})]):t._e(),s("div",{staticClass:"m-post-title"},["custom"===e.type?s("i",{staticClass:"el-icon-link"}):t._e(),s("span",{domProps:{textContent:t._s(e.title)}})]),s("div",{staticClass:"m-post-type",domProps:{textContent:t._s("custom"===e.type?"自定义":t.get_type_label(e.type))}}),e.updated?s("div",{staticClass:"m-post-updated",domProps:{textContent:t._s("最后更新于 "+t.date_format(e.updated))}}):t._e(),"custom"===e.type?s("div",{staticClass:"u-post-custom"},[t._v("此文章为网站外链")]):t._e()])})),0)],1):t._e()],1)},n=[];const i=Object.freeze({PRIVATE:0,PUBLIC:1,all(){return[this.PRIVATE,this.PUBLIC]}});var o=i,c=s("c106"),l=s("6c2b"),r=s("cdd3"),u=s("85e4"),d=s("e494"),p={name:"Detail",props:[],data:function(){return{publish:o,collection:null}},components:{Search:c["a"]},methods:{date_format:r["a"],get_thumbnail:u["getThumbnail"],get_link:u["getLink"],get_type_label:u["getTypeLabel"]},mounted:function(){Object(d["b"])(this.$route.params.collection_id)},watch:{"$route.params.collection_id":{immediate:!0,handler:function(){var t=this;this.$route.params.collection_id&&Object(l["a"])(this.$route.params.collection_id,{post_extra:1}).then((function(e){e=e.data,200===e.code&&(t.collection=e.data.collection)}))}}}},_=p,m=(s("1829"),s("2877")),h=Object(m["a"])(_,a,n,!1,null,null,null);e["default"]=h.exports},eb09:function(t,e,s){}}]);
//# sourceMappingURL=chunk-d3b8b214.3e16a576.js.map