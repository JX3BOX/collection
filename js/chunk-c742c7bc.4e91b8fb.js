(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c742c7bc"],{"3bdd":function(t,e,a){},"4f1d":function(t,e,a){"use strict";a("eb09")},6041:function(t,e,a){"use strict";a("3bdd")},e1e4:function(t,e,a){},eac3:function(t,e,a){"use strict";a("e1e4")},eb09:function(t,e,a){},fd6e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-normal"},[a("Search"),a("div",{staticClass:"c-collections"},t._l(t.collections,(function(t,e){return a("CollectionSingle",{key:e,attrs:{collection:t}})})),1),a("el-pagination",{attrs:{background:"",total:t.collections_total,"hide-on-single-page":"",layout:"prev, pager, next","current-page":t.page,"page-size":t.length,"prev-html":"&laquo;","next-html":"&raquo;"},on:{"current-change":t.page_change_handle}})],1)},s=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-collection"},[a("div",{staticClass:"m-image"},[a("img",{staticClass:"u-image",attrs:{src:t.collection.image}})]),a("div",{staticClass:"m-content"},[a("a",{staticClass:"m-user",attrs:{href:t._f("author_url")(t.collection.user_id)}},[a("img",{staticClass:"u-avatar",attrs:{src:t.get_thumbnail(t.collection.user_avatar,20)}}),a("span",{staticClass:"u-nickname",domProps:{textContent:t._s(t.collection.user_nickname)}})]),a("div",{staticClass:"u-updated",domProps:{textContent:t._s("最后更新于 "+t.date_format(t.collection.updated))}}),a("h3",{staticClass:"u-title",domProps:{textContent:t._s(t.collection.title)}}),a("ul",{staticClass:"u-tags m-list-style"},t._l(t.collection.tags,(function(e,n){return a("li",{key:n,staticClass:"u-tag",domProps:{textContent:t._s(e)}})})),0),a("p",{staticClass:"u-excerpt",domProps:{innerHTML:t._s(t.collection.excerpt)}}),a("div",{staticClass:"c-posts"},[a("i",{staticClass:"el-icon-notebook-2"}),a("span",{staticClass:"u-posts-title"},[t._v("小册文章：")]),a("div",{staticClass:"m-posts"},t._l(t.collection.content,(function(e,n){return a("a",{key:n,staticClass:"m-post",attrs:{href:"custom"===e.type?e.url:t.get_link(e.type,e.id)},domProps:{textContent:t._s(e.title)}})})),0)])])])},c=[],o=a("cdd3"),i=a("85e4"),r={name:"CollectionSingle",props:["collection","collectionId"],methods:{date_format:o["a"],get_thumbnail:i["getThumbnail"],get_link:i["getLink"]}},u=r,d=(a("eac3"),a("2877")),p=Object(d["a"])(u,l,c,!1,null,null,null),h=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-search-bar",class:"view"==t.$route.name?"can-return":""},[a("div",{staticClass:"m-return"},[a("el-button",{staticClass:"u-return-btn",on:{click:t.return_handle}},[t._v("返回")])],1),a("div",{staticClass:"m-search"},[a("el-input",{staticClass:"u-search-input",attrs:{placeholder:"输入剑三小册标题「回车」进行搜索"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_handle(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("关键词")])]),a("el-button",{staticClass:"u-search-btn",attrs:{type:"primary",plain:""},on:{click:t.search_handle}},[t._v("搜索")])],1)])},g=[],_={name:"Search",data:function(){return{keyword:""}},methods:{return_handle:function(){history.back()},search_handle:function(){var t={page:1};this.$router.push({name:"search",params:{keyword:this.keyword},query:t})}}},f=_,C=(a("4f1d"),Object(d["a"])(f,m,g,!1,null,null,null)),k=C.exports,v=a("6c2b"),b={name:"Normal",data:function(){return{collections:null,collections_total:0,page:1,length:20}},methods:{page_change_handle:function(t){this.$router.push({name:"normal",params:{tag:this.$route.params.tag},query:{page:t}})}},components:{CollectionSingle:h,Search:k},watch:{$route:{immediate:!0,handler:function(){var t=this,e=this.$route.params.tag;this.page=parseInt(this.$route.query.page),Object(v["b"])({tag:e,page:this.page,limit:this.length}).then((function(e){e=e.data,200===e.code&&(t.collections=e.data.data,t.collections_total=e.data.total)}),(function(){t.collections=!1}))}}}},y=b,w=(a("6041"),Object(d["a"])(y,n,s,!1,null,null,null));e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-c742c7bc.4e91b8fb.js.map